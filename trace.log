   Compiling p2pchat v0.1.0 (/home/mistr/code/rust/tokio/p2p-chat)
warning: unused import: `signable::Signed`
 --> src/network/friends.rs:4:41
  |
4 | use crate::network::{Client, EventLoop, signable::Signed};
  |                                         ^^^^^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` on by default

warning: unused imports: `SettingName` and `SettingValue`
 --> src/main.rs:5:16
  |
5 | use settings::{SettingName, SettingValue};
  |                ^^^^^^^^^^^  ^^^^^^^^^^^^

warning: unused imports: `AsyncBufReadExt` and `self`
 --> src/main.rs:8:10
  |
8 |     io::{self, AsyncBufReadExt},
  |          ^^^^  ^^^^^^^^^^^^^^^

warning: unused import: `Setting`
  --> src/main.rs:15:16
   |
15 |     settings::{Setting, Settings},
   |                ^^^^^^^

warning: unused variable: `receiver`
  --> src/network/chat.rs:41:40
   |
41 |             ChatCommand::ReadMessage { receiver } => {
   |                                        ^^^^^^^^ help: try ignoring the field: `receiver: _`
   |
   = note: `#[warn(unused_variables)]` on by default

warning: unused variable: `identities`
  --> src/network.rs:35:5
   |
35 |     identities: Arc<RwLock<HashMap<PeerId, PublicKey>>>,
   |     ^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_identities`

warning: unused variable: `peer`
   --> src/network.rs:213:17
    |
213 |                 peer,
    |                 ^^^^ help: try ignoring the field: `peer: _`

warning: unused variable: `connection_id`
   --> src/network.rs:214:17
    |
214 |                 connection_id,
    |                 ^^^^^^^^^^^^^ help: try ignoring the field: `connection_id: _`

warning: unused variable: `request_id`
   --> src/network.rs:218:21
    |
218 |                     request_id,
    |                     ^^^^^^^^^^ help: try ignoring the field: `request_id: _`

warning: unused variable: `decision`
   --> src/network.rs:268:51
    |
268 |                     FriendRequest::AcceptFriend { decision } => {
    |                                                   ^^^^^^^^ help: try ignoring the field: `decision: _`

warning: unused variable: `request_id`
   --> src/network.rs:287:21
    |
287 |                     request_id,
    |                     ^^^^^^^^^^ help: try ignoring the field: `request_id: _`

warning: unused variable: `sender`
   --> src/network.rs:290:40
    |
290 |                     if let Some((resp, sender)) = response.verify() {
    |                                        ^^^^^^ help: if this is intentional, prefix it with an underscore: `_sender`

warning: unused variable: `name`
   --> src/network.rs:292:59
    |
292 | ...                   FriendResponse::RequestName { name } => {}
    |                                                     ^^^^ help: try ignoring the field: `name: _`

warning: unused variable: `name`
   --> src/network.rs:293:56
    |
293 | ...                   FriendResponse::VerifyName(name) => {}
    |                                                  ^^^^ help: if this is intentional, prefix it with an underscore: `_name`

warning: unused variable: `err`
  --> src/settings.rs:65:17
   |
65 |             Err(err) => {
   |                 ^^^ help: if this is intentional, prefix it with an underscore: `_err`

warning: unused variable: `setting`
  --> src/settings.rs:82:25
   |
82 |             if let Some(setting) = user_settings.get_mut(&opt_key) {
   |                         ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_setting`

warning: unused variable: `f`
   --> src/tui.rs:172:53
    |
172 | ...                   Tabline::FriendRequests(f) => unimplemented!(),
    |                                               ^ help: if this is intentional, prefix it with an underscore: `_f`

warning: unused variable: `f`
   --> src/tui.rs:177:49
    |
177 |                         Tabline::FriendRequests(f) => unimplemented!(),
    |                                                 ^ help: if this is intentional, prefix it with an underscore: `_f`

warning: unused variable: `f`
   --> src/tui.rs:181:49
    |
181 |                         Tabline::FriendRequests(f) => unimplemented!(),
    |                                                 ^ help: if this is intentional, prefix it with an underscore: `_f`

warning: unused variable: `f`
   --> src/tui.rs:185:49
    |
185 |                         Tabline::FriendRequests(f) => unimplemented!(),
    |                                                 ^ help: if this is intentional, prefix it with an underscore: `_f`

warning: unused variable: `app`
   --> src/tui.rs:237:23
    |
237 | fn handle_call_button(app: &mut App, event: Event) {
    |                       ^^^ help: if this is intentional, prefix it with an underscore: `_app`

warning: unused variable: `event`
   --> src/tui.rs:237:38
    |
237 | fn handle_call_button(app: &mut App, event: Event) {
    |                                      ^^^^^ help: if this is intentional, prefix it with an underscore: `_event`

warning: unused variable: `app`
   --> src/tui.rs:240:24
    |
240 | fn handle_request_list(app: &mut App, event: Event) {
    |                        ^^^ help: if this is intentional, prefix it with an underscore: `_app`

warning: unused variable: `event`
   --> src/tui.rs:240:39
    |
240 | fn handle_request_list(app: &mut App, event: Event) {
    |                                       ^^^^^ help: if this is intentional, prefix it with an underscore: `_event`

warning: unused variable: `app`
   --> src/tui.rs:243:18
    |
243 | fn handle_search(app: &mut App, event: Event) {
    |                  ^^^ help: if this is intentional, prefix it with an underscore: `_app`

warning: unused variable: `event`
   --> src/tui.rs:243:33
    |
243 | fn handle_search(app: &mut App, event: Event) {
    |                                 ^^^^^ help: if this is intentional, prefix it with an underscore: `_event`

warning: unused variable: `tui`
  --> src/main.rs:32:9
   |
32 |     let tui = tokio::spawn(tui::run(client, token));
   |         ^^^ help: if this is intentional, prefix it with an underscore: `_tui`

warning: unused variable: `message_id`
  --> src/main.rs:48:62
   |
48 |                     Event::OutboundMessageInvalidSignature { message_id } => {
   |                                                              ^^^^^^^^^^ help: try ignoring the field: `message_id: _`

warning: variable does not need to be mutable
  --> src/main.rs:24:9
   |
24 |     let mut settings = Settings::load().await;
   |         ----^^^^^^^^
   |         |
   |         help: remove this `mut`
   |
   = note: `#[warn(unused_mut)]` on by default

warning: variants `ChatCommand` and `FriendCommand` are never constructed
  --> src/network.rs:31:5
   |
30 | pub enum Command {
   |          ------- variants in this enum
31 |     ChatCommand(ChatCommand),
   |     ^^^^^^^^^^^
32 |     FriendCommand(FriendCommand),
   |     ^^^^^^^^^^^^^
   |
   = note: `#[warn(dead_code)]` on by default

warning: fields `command_sender`, `settings`, and `keys` are never read
   --> src/network.rs:120:9
    |
119 | pub(crate) struct Client {
    |                   ------ fields in this struct
120 |     pub command_sender: mpsc::Sender<Command>,
    |         ^^^^^^^^^^^^^^
121 |     settings: Arc<tokio::sync::RwLock<HashMap<SettingName, Setting>>>,
    |     ^^^^^^^^
122 |     keys: Keypair,
    |     ^^^^
    |
    = note: `Client` has a derived impl for the trait `Clone`, but this is intentionally ignored during dead code analysis

warning: variants `SendMessage` and `ReadMessage` are never constructed
  --> src/network/chat.rs:24:5
   |
23 | pub enum ChatCommand {
   |          ----------- variants in this enum
24 |     SendMessage {
   |     ^^^^^^^^^^^
...
28 |     ReadMessage {
   |     ^^^^^^^^^^^

warning: method `send_message` is never used
  --> src/network/chat.rs:52:18
   |
51 | impl Client {
   | ----------- method in this implementation
52 |     pub async fn send_message(&mut self, receiver: PeerId, message: String) {
   |                  ^^^^^^^^^^^^

warning: variants `RequestName`, `VerifyName`, `AddFriend`, and `AcceptFriend` are never constructed
  --> src/network/friends.rs:20:5
   |
19 | pub enum FriendCommand {
   |          ------------- variants in this enum
20 |     RequestName { peer: PeerId },
   |     ^^^^^^^^^^^
21 |     VerifyName { name: String, peer: PeerId },
   |     ^^^^^^^^^^
22 |     AddFriend { peer: PeerId },
   |     ^^^^^^^^^
23 |     AcceptFriend { peer: PeerId, decision: bool },
   |     ^^^^^^^^^^^^

warning: methods `request_name`, `verify_name`, `send_friend_request`, `accept_friend_req`, and `deny_friend_req` are never used
  --> src/network/friends.rs:52:14
   |
51 | impl Client {
   | ----------- methods in this implementation
52 |     async fn request_name(&mut self, peer: PeerId) {
   |              ^^^^^^^^^^^^
...
60 |     async fn verify_name(&mut self, peer: PeerId, name: String) {
   |              ^^^^^^^^^^^
...
69 |     async fn send_friend_request(&mut self, peer: PeerId) {
   |              ^^^^^^^^^^^^^^^^^^^
...
77 |     async fn accept_friend_req(&mut self, peer: PeerId) {
   |              ^^^^^^^^^^^^^^^^^
...
86 |     async fn deny_friend_req(&mut self, peer: PeerId) {
   |              ^^^^^^^^^^^^^^^

warning: method `set_value` is never used
  --> src/settings.rs:47:12
   |
41 | impl Setting {
   | ------------ method in this implementation
...
47 |     pub fn set_value(&mut self, val: SettingValue) -> std::io::Result<()> {
   |            ^^^^^^^^^

warning: associated function `save` is never used
  --> src/settings.rs:91:18
   |
53 | impl Settings {
   | ------------- associated function in this implementation
...
91 |     pub async fn save(settings: &HashMap<SettingName, Setting>) {
   |                  ^^^^

warning: multiple variants are never constructed
  --> src/tui.rs:27:5
   |
25 | pub enum Event {
   |          ----- variants in this enum
26 |     Init,
27 |     Quit,
   |     ^^^^
28 |     Error,
29 |     Closed,
   |     ^^^^^^
30 |     Tick,
   |     ^^^^
31 |     Render,
   |     ^^^^^^
32 |     FocusGained,
   |     ^^^^^^^^^^^
33 |     FocusLost,
   |     ^^^^^^^^^
34 |     Paste(String),
   |     ^^^^^
35 |     Key(KeyEvent),
36 |     Mouse(MouseEvent),
   |     ^^^^^
37 |     Resize(u16, u16),
   |     ^^^^^^
38 |     MessageReceived(Message),
   |     ^^^^^^^^^^^^^^^
   |
   = note: `Event` has derived impls for the traits `Debug` and `Clone`, but these are intentionally ignored during dead code analysis

warning: fields `frame_rate` and `tick_rate` are never read
  --> src/tui.rs:45:9
   |
40 | pub struct Tui {
   |            --- fields in this struct
...
45 |     pub frame_rate: f64,
   |         ^^^^^^^^^^
46 |     pub tick_rate: f64,
   |         ^^^^^^^^^

warning: method `event_tx` is never used
   --> src/tui.rs:123:12
    |
49  | impl Tui {
    | -------- method in this implementation
...
123 |     pub fn event_tx(&self) -> UnboundedSender<Event> {
    |            ^^^^^^^^

warning: variant `Search` is never constructed
   --> src/tui.rs:318:5
    |
315 | enum FriendRequestPage {
    |      ----------------- variant in this enum
...
318 |     Search,
    |     ^^^^^^
    |
    = note: `FriendRequestPage` has derived impls for the traits `Debug` and `Clone`, but these are intentionally ignored during dead code analysis

warning: field `id` is never read
 --> src/tui/types.rs:5:9
  |
3 | pub struct Message {
  |            ------- field in this struct
4 |     pub content: String,
5 |     pub id: uuid::Uuid,
  |         ^^
  |
  = note: `Message` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: field `peer_id` is never read
  --> src/tui/types.rs:11:9
   |
10 | pub struct Contact {
   |            ------- field in this struct
11 |     pub peer_id: PeerId,
   |         ^^^^^^^
   |
   = note: `Contact` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: struct `ScrollableList` is never constructed
 --> src/tui/widgets.rs:1:8
  |
1 | struct ScrollableList<T>
  |        ^^^^^^^^^^^^^^

warning: `p2pchat` (bin "p2pchat") generated 44 warnings (run `cargo fix --bin "p2pchat"` to apply 5 suggestions)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 3.94s
     Running `target/debug/p2pchat`
[2m2026-01-08T12:07:02.817472Z[0m [32m INFO[0m [2mlibp2p_swarm[0m[2m:[0m [3mlocal_peer_id[0m[2m=[0m12D3KooWNPefLx7EwCzYDYQm72UCwQTjtsBMT3tLsP2YCPuK7RTD
[2m2026-01-08T12:07:02.818085Z[0m [32m INFO[0m [2mlibp2p_mdns::behaviour::iface[0m[2m:[0m creating instance on iface address [3maddress[0m[2m=[0m192.168.17.138
[2m2026-01-08T12:07:02.818186Z[0m [32m INFO[0m [2mlibp2p_mdns::behaviour::iface[0m[2m:[0m creating instance on iface address [3maddress[0m[2m=[0m172.20.0.1
[2m2026-01-08T12:07:02.818233Z[0m [32m INFO[0m [2mlibp2p_mdns::behaviour::iface[0m[2m:[0m creating instance on iface address [3maddress[0m[2m=[0m172.17.0.1
[2m2026-01-08T12:07:02.818374Z[0m [32m INFO[0m [2mp2pchat::network[0m[2m:[0m Local node is listening on /ip4/127.0.0.1/tcp/40983
[2m2026-01-08T12:07:02.818426Z[0m [32m INFO[0m [2mp2pchat::network[0m[2m:[0m Local node is listening on /ip4/192.168.17.138/tcp/40983
[2m2026-01-08T12:07:02.818464Z[0m [32m INFO[0m [2mp2pchat::network[0m[2m:[0m Local node is listening on /ip4/172.20.0.1/tcp/40983
[2m2026-01-08T12:07:02.818503Z[0m [32m INFO[0m [2mp2pchat::network[0m[2m:[0m Local node is listening on /ip4/172.17.0.1/tcp/40983
[2m2026-01-08T12:07:02.818604Z[0m [32m INFO[0m [2mp2pchat::network[0m[2m:[0m Local node is listening on /ip4/127.0.0.1/udp/33103/quic-v1
[2m2026-01-08T12:07:02.818650Z[0m [32m INFO[0m [2mp2pchat::network[0m[2m:[0m Local node is listening on /ip4/192.168.17.138/udp/33103/quic-v1
[2m2026-01-08T12:07:02.818687Z[0m [32m INFO[0m [2mp2pchat::network[0m[2m:[0m Local node is listening on /ip4/172.20.0.1/udp/33103/quic-v1
[2m2026-01-08T12:07:02.818727Z[0m [32m INFO[0m [2mp2pchat::network[0m[2m:[0m Local node is listening on /ip4/172.17.0.1/udp/33103/quic-v1
