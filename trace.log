   Compiling p2pchat v0.1.0 (/home/mistr/code/rust/tokio/p2p-chat)
warning: unused import: `signable::Signed`
 --> src/network/friends.rs:4:41
  |
4 | use crate::network::{Client, EventLoop, signable::Signed};
  |                                         ^^^^^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` on by default

warning: unused import: `prelude::CrosstermBackend`
  --> src/tui.rs:14:15
   |
14 | use ratatui::{prelude::CrosstermBackend, widgets::Paragraph};
   |               ^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused imports: `SettingName` and `SettingValue`
 --> src/main.rs:5:16
  |
5 | use settings::{SettingName, SettingValue};
  |                ^^^^^^^^^^^  ^^^^^^^^^^^^

warning: unused import: `Mutex`
 --> src/main.rs:9:12
  |
9 |     sync::{Mutex, RwLock},
  |            ^^^^^

warning: unused import: `tracing_subscriber::EnvFilter`
  --> src/main.rs:11:5
   |
11 | use tracing_subscriber::EnvFilter;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused imports: `Setting` and `network::Event`
  --> src/main.rs:14:5
   |
14 |     network::Event,
   |     ^^^^^^^^^^^^^^
15 |     settings::{Setting, Settings},
   |                ^^^^^^^

warning: unused variable: `receiver`
  --> src/network/chat.rs:41:40
   |
41 |             ChatCommand::ReadMessage { receiver } => {
   |                                        ^^^^^^^^ help: try ignoring the field: `receiver: _`
   |
   = note: `#[warn(unused_variables)]` on by default

warning: unused variable: `identities`
  --> src/network.rs:35:5
   |
35 |     identities: Arc<RwLock<HashMap<PeerId, PublicKey>>>,
   |     ^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_identities`

warning: unused variable: `peer`
   --> src/network.rs:211:17
    |
211 |                 peer,
    |                 ^^^^ help: try ignoring the field: `peer: _`

warning: unused variable: `connection_id`
   --> src/network.rs:212:17
    |
212 |                 connection_id,
    |                 ^^^^^^^^^^^^^ help: try ignoring the field: `connection_id: _`

warning: unused variable: `request_id`
   --> src/network.rs:216:21
    |
216 |                     request_id,
    |                     ^^^^^^^^^^ help: try ignoring the field: `request_id: _`

warning: unused variable: `decision`
   --> src/network.rs:266:51
    |
266 |                     FriendRequest::AcceptFriend { decision } => {
    |                                                   ^^^^^^^^ help: try ignoring the field: `decision: _`

warning: unused variable: `request_id`
   --> src/network.rs:285:21
    |
285 |                     request_id,
    |                     ^^^^^^^^^^ help: try ignoring the field: `request_id: _`

warning: unused variable: `sender`
   --> src/network.rs:288:40
    |
288 |                     if let Some((resp, sender)) = response.verify() {
    |                                        ^^^^^^ help: if this is intentional, prefix it with an underscore: `_sender`

warning: unused variable: `name`
   --> src/network.rs:290:59
    |
290 | ...                   FriendResponse::RequestName { name } => {}
    |                                                     ^^^^ help: try ignoring the field: `name: _`

warning: unused variable: `name`
   --> src/network.rs:291:56
    |
291 | ...                   FriendResponse::VerifyName(name) => {}
    |                                                  ^^^^ help: if this is intentional, prefix it with an underscore: `_name`

warning: unused variable: `err`
  --> src/settings.rs:65:17
   |
65 |             Err(err) => {
   |                 ^^^ help: if this is intentional, prefix it with an underscore: `_err`

warning: unused variable: `setting`
  --> src/settings.rs:82:25
   |
82 |             if let Some(setting) = user_settings.get_mut(&opt_key) {
   |                         ^^^^^^^ help: if this is intentional, prefix it with an underscore: `_setting`

warning: unused variable: `f`
   --> src/tui.rs:161:53
    |
161 | ...                   Tabline::FriendRequests(f) => unimplemented!(),
    |                                               ^ help: if this is intentional, prefix it with an underscore: `_f`

warning: unused variable: `f`
   --> src/tui.rs:166:49
    |
166 |                         Tabline::FriendRequests(f) => unimplemented!(),
    |                                                 ^ help: if this is intentional, prefix it with an underscore: `_f`

warning: unused variable: `f`
   --> src/tui.rs:170:49
    |
170 |                         Tabline::FriendRequests(f) => unimplemented!(),
    |                                                 ^ help: if this is intentional, prefix it with an underscore: `_f`

warning: unused variable: `f`
   --> src/tui.rs:174:49
    |
174 |                         Tabline::FriendRequests(f) => unimplemented!(),
    |                                                 ^ help: if this is intentional, prefix it with an underscore: `_f`

warning: unused variable: `app`
   --> src/tui.rs:222:23
    |
222 | fn handle_call_button(app: &mut App, event: Event) {
    |                       ^^^ help: if this is intentional, prefix it with an underscore: `_app`

warning: unused variable: `event`
   --> src/tui.rs:222:38
    |
222 | fn handle_call_button(app: &mut App, event: Event) {
    |                                      ^^^^^ help: if this is intentional, prefix it with an underscore: `_event`

warning: unused variable: `app`
   --> src/tui.rs:225:24
    |
225 | fn handle_request_list(app: &mut App, event: Event) {
    |                        ^^^ help: if this is intentional, prefix it with an underscore: `_app`

warning: unused variable: `event`
   --> src/tui.rs:225:39
    |
225 | fn handle_request_list(app: &mut App, event: Event) {
    |                                       ^^^^^ help: if this is intentional, prefix it with an underscore: `_event`

warning: unused variable: `app`
   --> src/tui.rs:228:18
    |
228 | fn handle_search(app: &mut App, event: Event) {
    |                  ^^^ help: if this is intentional, prefix it with an underscore: `_app`

warning: unused variable: `event`
   --> src/tui.rs:228:33
    |
228 | fn handle_search(app: &mut App, event: Event) {
    |                                 ^^^^^ help: if this is intentional, prefix it with an underscore: `_event`

warning: unused variable: `stdin`
  --> src/main.rs:25:13
   |
25 |     let mut stdin = io::BufReader::new(io::stdin()).lines();
   |             ^^^^^ help: if this is intentional, prefix it with an underscore: `_stdin`

warning: unused variable: `client`
  --> src/main.rs:41:26
   |
41 |     let (event_loop, mut client, mut network_event) =
   |                          ^^^^^^ help: if this is intentional, prefix it with an underscore: `_client`

warning: unused variable: `network_event`
  --> src/main.rs:41:38
   |
41 |     let (event_loop, mut client, mut network_event) =
   |                                      ^^^^^^^^^^^^^ help: if this is intentional, prefix it with an underscore: `_network_event`

warning: variable does not need to be mutable
  --> src/main.rs:25:9
   |
25 |     let mut stdin = io::BufReader::new(io::stdin()).lines();
   |         ----^^^^^
   |         |
   |         help: remove this `mut`
   |
   = note: `#[warn(unused_mut)]` on by default

warning: variable does not need to be mutable
  --> src/main.rs:27:9
   |
27 |     let mut settings = Settings::load().await;
   |         ----^^^^^^^^
   |         |
   |         help: remove this `mut`

warning: variable does not need to be mutable
  --> src/main.rs:41:22
   |
41 |     let (event_loop, mut client, mut network_event) =
   |                      ----^^^^^^
   |                      |
   |                      help: remove this `mut`

warning: variable does not need to be mutable
  --> src/main.rs:41:34
   |
41 |     let (event_loop, mut client, mut network_event) =
   |                                  ----^^^^^^^^^^^^^
   |                                  |
   |                                  help: remove this `mut`

warning: variants `ChatCommand` and `FriendCommand` are never constructed
  --> src/network.rs:31:5
   |
30 | pub enum Command {
   |          ------- variants in this enum
31 |     ChatCommand(ChatCommand),
   |     ^^^^^^^^^^^
32 |     FriendCommand(FriendCommand),
   |     ^^^^^^^^^^^^^
   |
   = note: `#[warn(dead_code)]` on by default

warning: fields `message` and `sender` are never read
  --> src/network.rs:92:9
   |
91 |     InboundMessage {
   |     -------------- fields in this variant
92 |         message: Message,
   |         ^^^^^^^
93 |         sender: Box<PublicKey>,
   |         ^^^^^^
   |
   = note: `Event` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: field `message_id` is never read
  --> src/network.rs:96:9
   |
95 |     OutboundMessageReceived {
   |     ----------------------- field in this variant
96 |         message_id: Uuid,
   |         ^^^^^^^^^^
   |
   = note: `Event` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: field `message_id` is never read
  --> src/network.rs:99:9
   |
98 |     OutboundMessageInvalidSignature {
   |     ------------------------------- field in this variant
99 |         message_id: Uuid,
   |         ^^^^^^^^^^
   |
   = note: `Event` has a derived impl for the trait `Debug`, but this is intentionally ignored during dead code analysis

warning: fields `command_sender`, `settings`, and `keys` are never read
   --> src/network.rs:119:9
    |
118 | pub(crate) struct Client {
    |                   ------ fields in this struct
119 |     pub command_sender: mpsc::Sender<Command>,
    |         ^^^^^^^^^^^^^^
120 |     settings: Arc<tokio::sync::RwLock<HashMap<SettingName, Setting>>>,
    |     ^^^^^^^^
121 |     keys: Keypair,
    |     ^^^^
    |
    = note: `Client` has a derived impl for the trait `Clone`, but this is intentionally ignored during dead code analysis

warning: variants `SendMessage` and `ReadMessage` are never constructed
  --> src/network/chat.rs:24:5
   |
23 | pub enum ChatCommand {
   |          ----------- variants in this enum
24 |     SendMessage {
   |     ^^^^^^^^^^^
...
28 |     ReadMessage {
   |     ^^^^^^^^^^^

warning: method `send_message` is never used
  --> src/network/chat.rs:52:18
   |
51 | impl Client {
   | ----------- method in this implementation
52 |     pub async fn send_message(&mut self, receiver: PeerId, message: String) {
   |                  ^^^^^^^^^^^^

warning: variants `RequestName`, `VerifyName`, `AddFriend`, and `AcceptFriend` are never constructed
  --> src/network/friends.rs:20:5
   |
19 | pub enum FriendCommand {
   |          ------------- variants in this enum
20 |     RequestName { peer: PeerId },
   |     ^^^^^^^^^^^
21 |     VerifyName { name: String, peer: PeerId },
   |     ^^^^^^^^^^
22 |     AddFriend { peer: PeerId },
   |     ^^^^^^^^^
23 |     AcceptFriend { peer: PeerId, decision: bool },
   |     ^^^^^^^^^^^^

warning: methods `request_name`, `verify_name`, `send_friend_request`, `accept_friend_req`, and `deny_friend_req` are never used
  --> src/network/friends.rs:52:14
   |
51 | impl Client {
   | ----------- methods in this implementation
52 |     async fn request_name(&mut self, peer: PeerId) {
   |              ^^^^^^^^^^^^
...
60 |     async fn verify_name(&mut self, peer: PeerId, name: String) {
   |              ^^^^^^^^^^^
...
69 |     async fn send_friend_request(&mut self, peer: PeerId) {
   |              ^^^^^^^^^^^^^^^^^^^
...
77 |     async fn accept_friend_req(&mut self, peer: PeerId) {
   |              ^^^^^^^^^^^^^^^^^
...
86 |     async fn deny_friend_req(&mut self, peer: PeerId) {
   |              ^^^^^^^^^^^^^^^

warning: method `set_value` is never used
  --> src/settings.rs:47:12
   |
41 | impl Setting {
   | ------------ method in this implementation
...
47 |     pub fn set_value(&mut self, val: SettingValue) -> std::io::Result<()> {
   |            ^^^^^^^^^

warning: associated function `save` is never used
  --> src/settings.rs:91:18
   |
53 | impl Settings {
   | ------------- associated function in this implementation
...
91 |     pub async fn save(settings: &HashMap<SettingName, Setting>) {
   |                  ^^^^

warning: multiple variants are never constructed
  --> src/tui.rs:21:5
   |
19 | pub enum Event {
   |          ----- variants in this enum
20 |     Init,
21 |     Quit,
   |     ^^^^
22 |     Error,
23 |     Closed,
   |     ^^^^^^
24 |     Tick,
   |     ^^^^
25 |     Render,
   |     ^^^^^^
26 |     FocusGained,
   |     ^^^^^^^^^^^
27 |     FocusLost,
   |     ^^^^^^^^^
28 |     Paste(String),
   |     ^^^^^
29 |     Key(KeyEvent),
30 |     Mouse(MouseEvent),
   |     ^^^^^
31 |     Resize(u16, u16),
   |     ^^^^^^
   |
   = note: `Event` has derived impls for the traits `Debug` and `Clone`, but these are intentionally ignored during dead code analysis

warning: fields `frame_rate` and `tick_rate` are never read
  --> src/tui.rs:38:9
   |
33 | pub struct Tui {
   |            --- fields in this struct
...
38 |     pub frame_rate: f64,
   |         ^^^^^^^^^^
39 |     pub tick_rate: f64,
   |         ^^^^^^^^^

warning: variant `Search` is never constructed
   --> src/tui.rs:303:5
    |
300 | enum FriendRequestPage {
    |      ----------------- variant in this enum
...
303 |     Search,
    |     ^^^^^^
    |
    = note: `FriendRequestPage` has derived impls for the traits `Debug` and `Clone`, but these are intentionally ignored during dead code analysis

warning: struct `ScrollableList` is never constructed
 --> src/tui/widgets.rs:1:8
  |
1 | struct ScrollableList<T>
  |        ^^^^^^^^^^^^^^

warning: `p2pchat` (bin "p2pchat") generated 50 warnings (run `cargo fix --bin "p2pchat"` to apply 10 suggestions)
    Finished `dev` profile [unoptimized + debuginfo] target(s) in 2.67s
     Running `target/debug/p2pchat`
[2m2026-01-06T11:46:34.804615Z[0m [32m INFO[0m [2mlibp2p_swarm[0m[2m:[0m [3mlocal_peer_id[0m[2m=[0m12D3KooWRduff2Wf86qDXKNgpn4raFoGfWkJWW2WyeqJ9nav9jXs
[2m2026-01-06T11:46:34.805253Z[0m [32m INFO[0m [2mlibp2p_mdns::behaviour::iface[0m[2m:[0m creating instance on iface address [3maddress[0m[2m=[0m192.168.17.138
[2m2026-01-06T11:46:34.805373Z[0m [32m INFO[0m [2mlibp2p_mdns::behaviour::iface[0m[2m:[0m creating instance on iface address [3maddress[0m[2m=[0m172.20.0.1
[2m2026-01-06T11:46:34.805442Z[0m [32m INFO[0m [2mlibp2p_mdns::behaviour::iface[0m[2m:[0m creating instance on iface address [3maddress[0m[2m=[0m172.17.0.1
[2m2026-01-06T11:46:34.805597Z[0m [32m INFO[0m [2mp2pchat::network[0m[2m:[0m Local node is listening on /ip4/127.0.0.1/tcp/42791
[2m2026-01-06T11:46:34.805647Z[0m [32m INFO[0m [2mp2pchat::network[0m[2m:[0m Local node is listening on /ip4/192.168.17.138/tcp/42791
[2m2026-01-06T11:46:34.805678Z[0m [32m INFO[0m [2mp2pchat::network[0m[2m:[0m Local node is listening on /ip4/172.20.0.1/tcp/42791
[2m2026-01-06T11:46:34.805708Z[0m [32m INFO[0m [2mp2pchat::network[0m[2m:[0m Local node is listening on /ip4/172.17.0.1/tcp/42791
[2m2026-01-06T11:46:34.805797Z[0m [32m INFO[0m [2mp2pchat::network[0m[2m:[0m Local node is listening on /ip4/127.0.0.1/udp/58410/quic-v1
[2m2026-01-06T11:46:34.805840Z[0m [32m INFO[0m [2mp2pchat::network[0m[2m:[0m Local node is listening on /ip4/192.168.17.138/udp/58410/quic-v1
[2m2026-01-06T11:46:34.805886Z[0m [32m INFO[0m [2mp2pchat::network[0m[2m:[0m Local node is listening on /ip4/172.20.0.1/udp/58410/quic-v1
[2m2026-01-06T11:46:34.805933Z[0m [32m INFO[0m [2mp2pchat::network[0m[2m:[0m Local node is listening on /ip4/172.17.0.1/udp/58410/quic-v1
[2m2026-01-06T11:46:46.625352Z[0m [32m INFO[0m [2mp2pchat::tui[0m[2m:[0m Pressed LEFT + CONTROL
[2m2026-01-06T11:46:46.625395Z[0m [32m INFO[0m [2mp2pchat::tui[0m[2m:[0m Is on chat should transition to contacts
[2m2026-01-06T11:46:46.625400Z[0m [32m INFO[0m [2mp2pchat::tui[0m[2m:[0m Chatting(Chat)

thread 'main' panicked at src/tui.rs:223:5:
not implemented
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
